{{- $pdfPath := .Get "src" | default "/other/GPEML_program.pdf" }}
{{- if hasPrefix $pdfPath "/" }}
  {{- $pdfPath = $pdfPath | strings.TrimPrefix "/" }}
{{- end }}
{{- $fullPath := printf "%s%s" site.BaseURL $pdfPath }}
<div style="margin: 20px 0;">
  <div style="text-align: center; margin-bottom: 15px;">
    <a href="{{ $fullPath }}" target="_blank" style="display: inline-block; padding: 10px 20px; background-color: #003366; color: #ffffff; text-decoration: none; border-radius: 4px; font-weight: 500; transition: background-color 0.3s ease;">
      ðŸ“¥ Download PDF (4.3 MB)
    </a>
  </div>
  <div style="width: 100%; height: calc(100vh - 200px); min-height: 800px; border: 1px solid #e0e0e0; box-shadow: 0 2px 8px rgba(0,0,0,0.08); position: relative; background-color: #f5f5f5;">
    <div id="pdf-loading" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 1;">
      <div style="font-size: 16px; color: #666; margin-bottom: 10px;">Loading PDF...</div>
      <div style="width: 40px; height: 40px; border: 4px solid #e0e0e0; border-top: 4px solid #003366; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto;"></div>
      <div style="margin-top: 15px; font-size: 14px; color: #999;">This may take a moment for large files</div>
    </div>
    <iframe
      id="pdf-iframe"
      src="{{ $fullPath }}"
      title="{{ .Get "title" | default "PDF Viewer" }}"
      width="100%"
      height="100%"
      style="border: none; position: relative; z-index: 2;"
      onload="document.getElementById('pdf-loading').style.display='none';">
      <p>Your browser does not support PDFs. <a href="{{ $fullPath }}" target="_blank">Download the PDF</a> instead.</p>
    </iframe>
  </div>
</div>
<style>
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  a[href*=".pdf"]:hover {
    background-color: #004080 !important;
  }
</style>

